<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.btc.mapper.admin.SystemSecondItemMapper">
	<!--创建map实体类 -->
	<resultMap id="tableMap" type="com.btc.model.admin.SystemSecondItem">
		<id column="id" property="id" jdbcType="BIGINT" />
		<result column="first_id" property="firstId" jdbcType="BIGINT" />
		<result column="url" property="url" jdbcType="VARCHAR" />
		<result column="item_name" property="itemName" jdbcType="VARCHAR" />
		<result column="status" property="status" jdbcType="INTEGER" />
		<result column="order_index" property="orderIndex" jdbcType="INTEGER" />
		<result column="level" property="level" jdbcType="INTEGER" />
		<result column="create_date" property="createDate" />
	</resultMap>
	<!-- 分页条件 -->
	<sql id="page_sort_condition">
		limit #{pageNo},#{pageSize}
	</sql>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		id, first_id, url, item_name, status, order_index, level, create_date
	</sql>
	<select id="listSystemSecondItem" resultMap="tableMap"
		parameterType="com.btc.model.admin.SystemSecondItem">
		SELECT
		<include refid="Base_Column_List"></include>
		from system_second_item where first_id=#{firstId} order by order_index asc
		
	</select>
	<select id="pageCount" resultType="java.lang.Integer"
		parameterType="com.btc.model.admin.SystemSecondItem">
		SELECT count(1) FROM `system_second_item` WHERE first_id=#{firstId}
	</select>
	<insert id="insertSecondItem" parameterType="com.btc.model.admin.SystemSecondItem">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into system_second_item (id, first_id, url,
		item_name, status, order_index,
		level, create_date)
		values (#{id,jdbcType=BIGINT}, #{firstId,jdbcType=BIGINT},
		#{url,jdbcType=VARCHAR},
		#{itemName,jdbcType=VARCHAR}, #{status,jdbcType=INTEGER}, #{orderIndex,jdbcType=INTEGER},
		#{level,jdbcType=INTEGER}, now())
	</insert>
	<update id="updateSecondItem" parameterType="com.btc.model.admin.SystemSecondItem">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		 update system_second_item
    <set >
      <if test="firstId != null" >
        first_id = #{firstId,jdbcType=BIGINT},
      </if>
      <if test="url != null" >
        url = #{url,jdbcType=VARCHAR},
      </if>
      <if test="itemName != null" >
        item_name = #{itemName,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=INTEGER},
      </if>
      <if test="orderIndex != null" >
        order_index = #{orderIndex,jdbcType=INTEGER},
      </if>
      <if test="level != null" >
        level = #{level,jdbcType=INTEGER},
      </if>
      <if test="createDate != null" >
        create_date = #{createDate,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
	</update>
	<delete id="delItem" parameterType="java.lang.Long">
		DELETE t FROM system_second_item t WHERE t.id=#{arg0}
	</delete>
</mapper>